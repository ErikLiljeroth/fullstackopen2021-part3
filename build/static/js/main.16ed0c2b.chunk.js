(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{41:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n(16),o=n.n(c),a=n(17),u=n(3),i=n(0),d=function(e){var t=e.searchString,n=e.setSearchString;return Object(i.jsxs)("div",{children:["filter shown with ",Object(i.jsx)("input",{value:t,onChange:function(e){n(e.target.value)}})]})},s=function(e){var t=e.addPerson,n=e.newName,r=e.setNewName,c=e.newNumber,o=e.setNewNumber;return Object(i.jsx)("div",{children:Object(i.jsxs)("form",{onSubmit:t,children:[Object(i.jsxs)("div",{children:["name:",Object(i.jsx)("input",{value:n,onChange:function(e){return r(e.target.value)}})]}),Object(i.jsxs)("div",{children:["number:",Object(i.jsx)("input",{value:c,onChange:function(e){return o(e.target.value)}})]}),Object(i.jsx)("div",{children:Object(i.jsx)("button",{type:"submit",children:"add"})})]})})},l=function(e){var t=e.personsToShow,n=e.handleDelete;return Object(i.jsx)("ul",{children:t.map((function(e){return Object(i.jsxs)("li",{children:[e.name," ",e.number," ",Object(i.jsx)("button",{onClick:function(){return n(e)},children:"delete"})]},e.name)}))})},b=function(e){var t=e.message;if(null===t)return null;return Object(i.jsx)("div",{style:{color:"red",background:"lightgrey",fontStyle:"bold",fontSize:"14",borderStyle:"solid",borderRadius:"5px",padding:"10px"},children:t})},j=function(e){var t=e.message;if(null===t)return null;return Object(i.jsx)("div",{style:{color:"green",background:"lightgrey",fontStyle:"bold",fontSize:"14",borderStyle:"solid",borderRadius:"5px",padding:"10px"},children:t})},h=n(5),f=n.n(h),m="http://localhost:3001/api/persons",O={getAll:function(){return f.a.get(m)},create:function(e){return f.a.post(m,e)},update:function(e,t){return f.a.put("".concat(m,"/").concat(e),t)},remove:function(e){return f.a.delete("".concat(m,"/").concat(e))}},p=function(){var e=Object(r.useState)([]),t=Object(u.a)(e,2),n=t[0],c=t[1],o=Object(r.useState)(""),h=Object(u.a)(o,2),f=h[0],m=h[1],p=Object(r.useState)(""),x=Object(u.a)(p,2),g=x[0],v=x[1],w=Object(r.useState)(""),S=Object(u.a)(w,2),y=S[0],N=S[1],k=Object(r.useState)(null),T=Object(u.a)(k,2),C=T[0],A=T[1],D=Object(r.useState)(null),P=Object(u.a)(D,2),z=P[0],E=P[1];Object(r.useEffect)((function(){O.getAll().then((function(e){c(e.data)}))}),[]);var J=n.filter((function(e){return e.name.toLowerCase().includes(y.toLowerCase())}));return Object(i.jsxs)("div",{children:[Object(i.jsx)("h2",{children:"Phonebook"}),Object(i.jsx)(j,{message:C}),Object(i.jsx)(b,{message:z}),Object(i.jsx)(d,{searchString:y,setSearchString:N}),Object(i.jsx)("h2",{children:"add a new"}),Object(i.jsx)(s,{addPerson:function(e){e.preventDefault();var t={name:f,number:g},r=n.find((function(e){return e.name===t.name}));r?window.confirm("".concat(t.name," is already added to phonebook, replace the old number with the new one?"))&&(t.id=r.id,O.update(r.id,t).then((function(e){var t=Object(a.a)(n);t.find((function(t){return t.id===e.data.id})).number=e.data.number,c(t),A("The number of ".concat(r.name," changed to ").concat(e.data.number)),setTimeout((function(){return A(null)}),4e3)})).catch((function(e){E("The person ".concat(r.name," has already been deleted from server")),setTimeout((function(){return E(null)}),4e3),c(n.filter((function(e){return e.id!==t.id})))}))):(O.create(t).then((function(e){return t.id=e.data.id})),c(n.concat(t)),A("Added ".concat(t.name)),setTimeout((function(){return A(null)}),4e3))},newName:f,setNewName:m,newNumber:g,setNewNumber:v}),Object(i.jsx)("h2",{children:"Numbers"}),Object(i.jsx)(l,{personsToShow:J,handleDelete:function(e){window.confirm("Are you sure you want to delete ".concat(e.name,"?"))&&(O.remove(e.id),c(n.filter((function(t){return t.id!==e.id}))))}})]})};o.a.render(Object(i.jsx)(p,{}),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.16ed0c2b.chunk.js.map